<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>汉字盲盒 (Hanzi Blind Box)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Added ZCOOL KuaiLe for the cute font */
      @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@400;500;700&family=Noto+Serif+SC:wght@500;700&family=ZCOOL+KuaiLe&display=swap');
      
      body {
        font-family: 'Fredoka', 'Noto Sans SC', sans-serif;
      }

      .font-handwriting {
        font-family: 'Ma Shan Zheng', cursive;
      }

      /* Cute Title Font */
      .font-cute {
        font-family: 'ZCOOL KuaiLe', cursive;
      }

      /* KaiTi Font Stack: Tries system KaiTi first (standard for education), falls back to Noto Serif SC */
      .font-kaiti {
        font-family: "KaiTi", "STKaiti", "楷体", "BiauKai", "Noto Serif SC", serif;
      }

      /* Cute Background Pattern */
      .bg-pattern-cute {
        background-color: #f8fafc;
        background-image: radial-gradient(#e2e8f0 15%, transparent 16%), radial-gradient(#e2e8f0 15%, transparent 16%);
        background-size: 30px 30px;
        background-position: 0 0, 15px 15px;
      }
      
      /* Theme specific patterns (softer) */
      .pattern-dots {
        background-image: radial-gradient(rgba(255,255,255,0.4) 20%, transparent 20%), radial-gradient(rgba(255,255,255,0.4) 20%, transparent 20%);
        background-position: 0 0, 10px 10px;
        background-size: 20px 20px;
      }
      .pattern-grid {
        background-image: linear-gradient(rgba(255,255,255,0.3) 2px, transparent 2px), linear-gradient(90deg, rgba(255,255,255,0.3) 2px, transparent 2px);
        background-size: 30px 30px;
      }
      .pattern-stripes {
        background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.2) 10px, rgba(255,255,255,0.2) 20px);
      }

      /* Custom Animations */
      @keyframes pop {
        0% { transform: scale(1); }
        40% { transform: scale(0.95); }
        75% { transform: scale(1.15); }
        100% { transform: scale(1); }
      }
      
      .animate-pop {
        animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      @keyframes bounce-in {
        0% { opacity: 0; transform: scale(0.3); }
        50% { opacity: 1; transform: scale(1.05); }
        70% { transform: scale(0.9); }
        100% { opacity: 1; transform: scale(1); }
      }

      .animate-bounce-in {
        animation: bounce-in 0.5s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;
      }
      
      .animate-pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      }

      /* A4 Page Dimensions - Shared by Preview and Print */
      .a4-page {
        width: 210mm;
        height: 297mm;
        background: white;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        /* Default for preview: adds spacing */
        margin-bottom: 2rem; 
      }

      /* Print Specific Styles */
      @media print {
        @page {
          size: A4;
          margin: 0;
        }
        
        /* CRITICAL FIX: Ensure body and root take full height and are visible */
        html, body, #root {
          height: auto !important;
          min-height: 0 !important;
          overflow: visible !important;
          background: white !important;
          margin: 0 !important;
          padding: 0 !important;
        }

        .no-print {
          display: none !important;
        }
        
        /* Force container to block for proper paging and ensure it's visible */
        .print-container {
          display: block !important;
          visibility: visible !important;
          position: static !important;
          width: 100% !important;
          height: auto !important;
          overflow: visible !important;
        }

        .a4-page {
          width: 210mm !important;
          height: 297mm !important;
          margin: 0 !important;
          padding: 0 !important;
          page-break-after: always;
          break-after: page;
          border: none !important;
          box-shadow: none !important;
          transform: none !important;
          /* Ensure colors print */
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }

        /* Hide the preview wrapper styling during print */
        .print-preview-wrapper, .relative.group {
          display: block !important;
          transform: none !important;
          margin: 0 !important;
          padding: 0 !important;
          border: none !important;
        }

        /* Hide anything else that might be lingering */
        body > :not(#root) {
          display: none !important;
        }
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.30.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/"
  }
}
</script>
</head>
  <body class="bg-pattern-cute text-slate-700">
    <div id="root"></div>
  </body>
</html>